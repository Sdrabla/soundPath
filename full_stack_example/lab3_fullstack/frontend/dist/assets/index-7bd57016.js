import{r as l,a as F,b as A}from"./vendor-a308f804.js";import{u as g,a as C,R as I,b as f,B as W}from"./router-969892e2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function d(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=d(s);fetch(s.href,i)}})();var R={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=l,U=Symbol.for("react.element"),z=Symbol.for("react.fragment"),M=Object.prototype.hasOwnProperty,T=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H={key:!0,ref:!0,__self:!0,__source:!0};function P(a,t,d){var n,s={},i=null,c=null;d!==void 0&&(i=""+d),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)M.call(t,n)&&!H.hasOwnProperty(n)&&(s[n]=t[n]);if(a&&a.defaultProps)for(n in t=a.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:U,type:a,key:i,ref:c,props:s,_owner:T.current}}v.Fragment=z;v.jsx=P;v.jsxs=P;R.exports=v;var e=R.exports,_,L=F;_=L.createRoot,L.hydrateRoot;function Q(){const a=g(),t=()=>{a("/")},d=()=>{window.location.href="http://localhost:8000/login"},n=s=>{s.preventDefault(),console.log("Login form submitted")};return e.jsxs("div",{className:"login-page",children:[e.jsx("button",{className:"back-btn",onClick:t,children:"â† Back"}),e.jsxs("div",{className:"login-container",children:[e.jsx("h2",{children:"Login to SoundPath"}),e.jsxs("button",{className:"google-btn",onClick:d,children:[e.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo"}),"Login with Google"]}),e.jsx("div",{className:"divider",children:"or"}),e.jsxs("form",{onSubmit:n,children:[e.jsx("input",{type:"email",name:"email",placeholder:"Email",required:!0,autoComplete:"username"}),e.jsx("input",{type:"password",name:"password",placeholder:"Password",required:!0,autoComplete:"current-password"}),e.jsx("button",{type:"submit",children:"Login"})]}),e.jsxs("div",{className:"signup-link",children:["Don't have an account? ",e.jsx("a",{href:"/register",children:"Sign up"})]})]})]})}const k="/api".replace(/\/+$/,"");function J(){const a=g(),t=C(),[d,n]=l.useState(""),[s,i]=l.useState([]),[c,h]=l.useState(!0),[u,x]=l.useState(""),[p,$]=l.useState(null),[S,E]=l.useState(!1),[y,b]=l.useState(""),[m,N]=l.useState(null);l.useEffect(()=>{t.state?.userEmail&&n(t.state.userEmail)},[t.state]);const j=r=>r===0||r?String(r):"â€”";l.useEffect(()=>{let r=!1;return(async()=>{try{h(!0),x("");const o=await fetch(`${k}/books`);if(!o.ok)throw new Error(`List fetch failed: ${o.status}`);const w=await o.json();r||i(w)}catch(o){r||x(o?.message||"Failed to load books.")}finally{r||h(!1)}})(),()=>{r=!0}},[]),l.useEffect(()=>{if(!p){N(null),b("");return}let r=!1;return(async()=>{try{E(!0),b("");const o=await fetch(`${k}/books/${encodeURIComponent(p)}`);if(!o.ok)throw new Error(`Detail fetch failed: ${o.status}`);const w=await o.json();r||N(w)}catch(o){r||(b(o?.message||"Failed to load book details."),N(null))}finally{r||E(!1)}})(),()=>{r=!0}},[p]);const q=l.useMemo(()=>Array.isArray(s)&&s.length>0,[s]),B=r=>{$(o=>o===r?null:r)},O=()=>{a("/")},D=r=>{if(!r)return"";const o=r.split("@")[0];return o.charAt(0).toUpperCase()+o.slice(1)};return e.jsxs("div",{className:"page",children:[e.jsxs("header",{className:"header",children:[e.jsxs("h1",{className:"brand",children:["soundPath",e.jsx("button",{type:"button",className:"refresh-btn","aria-label":"Refresh",title:"Refresh",onClick:()=>window.location.reload(),children:e.jsxs("svg",{className:"refresh-icon",viewBox:"0 0 48 48","aria-hidden":"true",children:[e.jsx("defs",{children:e.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[e.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"2.5",result:"blur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"blur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),e.jsx("circle",{cx:"24",cy:"24",r:"22",fill:"currentColor",opacity:"0.15"}),e.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.25"}),e.jsx("circle",{cx:"24",cy:"24",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.25"}),e.jsx("circle",{cx:"24",cy:"24",r:"12",fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:"0.25"}),e.jsx("circle",{cx:"24",cy:"24",r:"7",fill:"currentColor",opacity:"0.5"}),e.jsx("circle",{cx:"24",cy:"24",r:"2",fill:"currentColor"}),e.jsxs("g",{filter:"url(#glow)",children:[e.jsx("circle",{cx:"42",cy:"24",r:"1.9",fill:"#ff5555"}),e.jsx("circle",{cx:"33",cy:"8.412",r:"1.9",fill:"#ffd166"}),e.jsx("circle",{cx:"15",cy:"8.412",r:"1.9",fill:"#06d6a0"}),e.jsx("circle",{cx:"6",cy:"24",r:"1.9",fill:"#118ab2"}),e.jsx("circle",{cx:"15",cy:"39.588",r:"1.9",fill:"#8338ec"}),e.jsx("circle",{cx:"33",cy:"39.588",r:"1.9",fill:"#ef476f"})]})]})})]}),e.jsxs("div",{className:"header-controls",children:[e.jsx("span",{className:"api-hint",children:k}),e.jsx("button",{onClick:O,className:"logout-btn",children:"Logout"})]})]}),d&&e.jsxs("div",{className:"greeting",children:[e.jsxs("h2",{children:["Hello, ",D(d),"! ðŸ‘‹"]}),e.jsx("p",{children:"Welcome to your equipment dashboard"})]}),e.jsxs("main",{className:"grid",children:[e.jsxs("section",{className:"panel",children:[e.jsx("h2",{className:"panel-title",children:"All Equipment"}),c&&e.jsx("p",{className:"muted",children:"Loadingâ€¦"}),u&&e.jsxs("p",{className:"error",children:["Error: ",u]}),!c&&!q&&!u&&e.jsx("p",{className:"muted",children:"No books yet."}),e.jsx("ul",{className:"book-list",children:s.map(r=>{const o=r.id||r._id||r.book_id;return e.jsx("li",{children:e.jsxs("button",{className:"book-item"+(o===p?" selected":""),onClick:()=>B(o),title:"View details",children:[e.jsx("span",{className:"book-title",children:r.title}),r.author&&e.jsxs("span",{className:"book-author",children:["from ",r.author]})]})},o)})})]}),e.jsxs("section",{className:"panel",children:[e.jsx("h2",{className:"panel-title",children:"Equipment Details"}),!p&&e.jsx("p",{className:"muted",children:"Select a equipment to see details."}),S&&e.jsx("p",{className:"muted",children:"Loading detailsâ€¦"}),y&&e.jsxs("p",{className:"error",children:["Error: ",y]}),!!m&&!S&&!y&&e.jsxs("div",{className:"details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"ID"}),e.jsx("span",{className:"value",children:j(m.id||m._id||p)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"Equipment Name"}),e.jsx("span",{className:"value",children:j(m.title)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"Owner"}),e.jsx("span",{className:"value",children:j(m.author)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"Status"}),e.jsx("span",{className:"value",children:j(m.genre)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"label",children:"Price"}),e.jsx("span",{className:"value",children:j(m.year)})]})]})]})]})]})}function K(){const a=g(),[t,d]=l.useState({experience:"",instrument:"",goal:"",genre:"",budget:""}),n=c=>{const{name:h,value:u}=c.target;d(x=>({...x,[h]:u}))},s=c=>{c.preventDefault(),console.log("Questionnaire submitted:",t),a("/dashboard")},i=()=>{a("/dashboard")};return e.jsxs("div",{className:"questionnaire-page",children:[e.jsxs("header",{className:"questionnaire-header",children:[e.jsx("button",{onClick:i,className:"back-btn",children:"â† Back to Dashboard"}),e.jsx("h1",{children:"soundPath"})]}),e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Tell us about your musical journey ðŸŽ¶"}),e.jsxs("form",{onSubmit:s,children:[e.jsx("label",{htmlFor:"experience",children:"How would you describe your experience level?"}),e.jsxs("select",{id:"experience",name:"experience",value:t.experience,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]}),e.jsx("label",{htmlFor:"instrument",children:"What instrument are you most interested in?"}),e.jsx("input",{type:"text",id:"instrument",name:"instrument",placeholder:"e.g., Guitar, Piano, Drums",value:t.instrument,onChange:n,required:!0}),e.jsx("label",{htmlFor:"goal",children:"What's your main goal with music?"}),e.jsx("textarea",{id:"goal",name:"goal",rows:"3",placeholder:"e.g., Start a band, play casually, improve skills",value:t.goal,onChange:n,required:!0}),e.jsx("label",{htmlFor:"genre",children:"Which genres do you enjoy?"}),e.jsxs("select",{id:"genre",name:"genre",value:t.genre,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"jazz",children:"Jazz"}),e.jsx("option",{value:"pop",children:"Pop"}),e.jsx("option",{value:"hiphop",children:"Hip Hop"}),e.jsx("option",{value:"rock",children:"Rock"}),e.jsx("option",{value:"classical",children:"Classical"}),e.jsx("option",{value:"electronic",children:"Electronic"}),e.jsx("option",{value:"country",children:"Country"}),e.jsx("option",{value:"blues",children:"Blues"}),e.jsx("option",{value:"folk",children:"Folk"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("label",{htmlFor:"budget",children:"What's your budget range?"}),e.jsxs("select",{id:"budget",name:"budget",value:t.budget,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"under-100",children:"Under $100"}),e.jsx("option",{value:"100-300",children:"$100 - $300"}),e.jsx("option",{value:"300-500",children:"$300 - $500"}),e.jsx("option",{value:"500-1000",children:"$500 - $1000"}),e.jsx("option",{value:"over-1000",children:"Over $1000"})]}),e.jsx("button",{type:"submit",children:"Get My Recommendations! ðŸŽ¸"})]})]})]})}function Y(){const a=g(),t=C(),[d,n]=l.useState(""),[s,i]=l.useState("");l.useEffect(()=>{const h=new URLSearchParams(t.search),u=h.get("user"),x=h.get("error");u&&(n(u),window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{a("/dashboard",{state:{userEmail:u}})},1e3)),x&&(i("Authentication failed. Please try again."),window.history.replaceState({},document.title,window.location.pathname))},[t,a]);const c=()=>{a("/login")};return e.jsxs("div",{className:"landing-page",children:[e.jsx("h1",{children:"soundPath"}),e.jsx("h3",{children:"Find the right gear for your sound"}),d?e.jsxs("div",{className:"user-welcome",children:[e.jsxs("p",{children:["Welcome back, ",d,"!"]}),e.jsx("p",{children:"Redirecting to dashboard..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Find personalized equipment, starter kits, and join communities all in one place! "}),e.jsx("p",{children:"Sign up today and start your musical journey"}),e.jsx("button",{id:"signup-button",onClick:c,children:"Get Started"}),e.jsx("button",{onClick:()=>a("/questionnaire"),style:{background:"#4ea1ff",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"4px",marginLeft:"1rem",cursor:"pointer",fontSize:"1rem"},children:"Test Questionnaire"})]}),s&&e.jsx("div",{className:"auth-error",children:e.jsx("p",{children:s})}),e.jsx("img",{src:"/vinyl-img.svg",alt:"vinyl record",id:"vinyl-img"}),e.jsxs("div",{id:"info-section",children:[e.jsx("h2",{children:" Why choose soundPath?"}),e.jsxs("div",{className:"info-item",children:[e.jsx("h3",{children:"Personalized Equipment Recommendations"}),e.jsx("p",{children:"You tell us how advanced you are and what your looking for and well give you a personalized list of what we think you'll love!"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("h3",{children:"Starter Kits"}),e.jsx("p",{children:"Just starting out? No biggie! Well give you a step-by-step checklist of the essentials you need to thrive!"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("h3",{children:"Unbiased Rankings"}),e.jsx("p",{children:"Unlike generic review sites, we provide upgrade guidance, education and community. This allows you to spend less time researching and more time doing what you love!"})]})]})]})}function V(){return e.jsxs(I,{children:[e.jsx(f,{path:"/",element:e.jsx(Y,{})}),e.jsx(f,{path:"/login",element:e.jsx(Q,{})}),e.jsx(f,{path:"/dashboard",element:e.jsx(J,{})}),e.jsx(f,{path:"/questionnaire",element:e.jsx(K,{})})]})}const X=_(document.getElementById("root"));X.render(e.jsx(A.StrictMode,{children:e.jsx(W,{children:e.jsx(V,{})})}));
